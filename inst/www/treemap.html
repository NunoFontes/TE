<!DOCTYPE html>
<html lang="en"><head>
 <title>Tree Map</title>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
    <link href="./dist/css/bootstrap.css" rel="stylesheet">
    <link href="./dist/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="./dist/css/my.css" rel="stylesheet"> 
<link href="./dist/themes/blue/style.css" rel="stylesheet">  
<style type="text/css"> 
#plotdiv {
       position: relative;
       width: 500px;
       height: 600px;
       border: solid gray 0px;
          }
</style> 
  </head>
    <body style="">
      <div id="alert">
      </div>
      <div class="row myselec">
        <div class="col-sm-4">
          <div class="panel">
            <div class="panel-heading"></div>
            <div class="panel-body">
              <p><div id="selectionZone2"></div><div id="selectionZone1"></div></p>
        <button id="submitbutton" type="button" class="btn btn-xs btn-primary myselec">SUBMIT !</button>
</div>
</div>
        </div>
        <div class="col-sm-8">
          <div id="plotdiv"></div>  
          <button id="sharebutton" type="button" class="btn btn-xs btn-default pull-centre" style="visibility:hidden">Share</button>
          <button id="seetable" type="button" class="btn btn-xs btn-default pull-centre" style="visibility:hidden">View Data</button>
          <div id="embbed"></div>
    </div>
        </div>
  <div id="tablediv" class="tablesorter">
</div>
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <script src="opencpu/opencpuTE.js"></script> 
    <script src="./dist/js/bootstrap.min.js"></script>
    <script src="./dist/jquery.tablesorter.js"></script> 
    <script src="./dist/addons/pager/jquery.tablesorter.pager.js"></script>
    <script src="helper.js"></script>
    <script type="text/javascript" src="./dist/js/iframeResizer.contentWindow.min.js"></script>
    <script>
   var type = "te.tree.map";
  function go(){
  country = $("#country").val();
  indicator = $("#indicator").val();
  rInteractPlot(type, [userN,passW], country, indicator, '')
  } 
$(document).ready(function(){
  starts()
   loadInfo(function(){
    bMultipleCountriesDD("#selectionZone1","country",function(){
      bIndicatorDD("#selectionZone2","indicator",function(){
        go()
        
        
    $("#indicator").change(function() {
    if($("#indicator").attr("multiple")=="multiple"){}else{
    rCountryDD($("#indicator").val(),function(){
      bMultipleCountriesDD("#selectionZone1","country",function(){},country)
    })
   }});
   
   
   
      },['GDP'])
    })
  })
  
  /*loadCountries("#selectionZone",function(){
    loadIndicators("#selectionZone",buildOneIndicatorAllCountries)
  })*/

  
$("#seetable").on("click", function(){  
  rInteractTable(type, [userN,passW], country, indicator, '')
});
     
$("#submitbutton").on("click", function(){
  submits()
 go()
  });
});
</script>
</body></html>