<!DOCTYPE html>
<head>
 <title>Geo Map</title>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
    <link href="./dist/css/bootstrap.css" rel="stylesheet">
    <link href="./dist/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="./dist/themes/blue/style.css" rel="stylesheet">  
    <link href="./dist/css/my.css" rel="stylesheet"> 
    <style>
    #plotdiv {
       position: relative;
       width: 800px;
       height: 400px;
       border: solid gray 0px;
          }
</style>
  <body>
   <div id="alert">
      </div>
      <div class="row myselec">
        <div class="col-sm-4">
          <div class="panel">
            <div class="panel-heading"></div>
            <div class="panel-body">
             <p><div id="select1"></div></p> 
             <p><div id="select2"></div></p>     
              <button id="submitbutton" type="button" class="btn btn-xs btn-primary myselec">SUBMIT !</button>
            </div>
          </div>
        </div>
      </div>
          <div id="plotdiv"></div>  
          <button id="sharebutton" type="button" class="btn btn-xs btn-default pull-centre" style="visibility:hidden">Share</button>
          <button id="seetable" type="button" class="btn btn-xs btn-default pull-centre" style="visibility:hidden">View Data</button>
          <div id="embbed"></div>
      <div class="page-header">
      </div>
          <div id="tablediv" class="tablesorter">
</div>
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <script src="./dist/js/bootstrap.min.js"></script>
    <script src="opencpu/opencpuTE.js"></script> 
    <script src="./dist/jquery.tablesorter.js"></script> 
    <script src="./dist/addons/pager/jquery.tablesorter.pager.js"></script>
    <script src="helper.js"></script>
    <script type="text/javascript" src="./dist/js/iframeResizer.contentWindow.min.js"></script>
    <script>
var type = "te.geomap";

function go(){
 indicator = $("#indicator").val();
 opts = $("#region").val();
 wid=1100;
 hei=600;
 console.log("opts",opts)
 rInteractPlot(type, [userN,passW], "", indicator, "",opts)}
 
$(document).ready(function(){
  
  loadInfo(function(){
  bRegionDD("#select1","region", function(){
   bIndicatorDD("#select2","indicator",function(){
    go()
   });
  });
 });

/*  
  buildRegionsDropdown("#select2",function(){
    buildIndicatorDropdown("#select1",function(){
      
    })
  })
  */
starts()
$("#seetable").on("click", function(){  
  rInteractTable(type, [userN,passW], "", indicator, "",region)
});

$("#submitbutton").on("click", function(){
 submits()
 go()
 });
 
});
</script>
</body></html>