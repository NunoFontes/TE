<!DOCTYPE html>
<head>
 <title>Heat Map</title>
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.3/themes/smoothness/jquery-ui.css">
    <link href="./dist/css/bootstrap.css" rel="stylesheet">
    <link href="./dist/css/bootstrap-theme.min.css" rel="stylesheet">
    <link href="./dist/themes/blue/style.css" rel="stylesheet">
    <link href="./dist/css/my.css" rel="stylesheet"> 
<style type="text/css">
#plotdiv {
  position: relative;
  width: 600px;
  height: 700px;
}
</style>
</head>
<body>
<div id="alert"></div>    
<div class="row myselec">
    <div class="col-sm-4">
      <div class="panel">
        <div class="panel-heading"></div>
        <div class="panel-body">       
          <div id="selectionZone1"> 
          </div> <div id="selectionZone2"> 
          </div> 
                <p><button id="submitbutton" type="button" class="btn btn-xs btn-primary myselec">SUBMIT !</button></p>
        </div>
      </div>
    </div>
    <div class="col-sm-4">
      <div id="plotdiv">
      </div>  
      <button id="sharebutton" type="button" class="btn btn-xs btn-default pull-centre" style="visibility:hidden">Share</button>
      <button id="seetable" type="button" class="btn btn-xs btn-default pull-centre" style="visibility:hidden">View Data</button>
      <div id="embbed"></div>
    </div>
  </div>
     
  <div id="tablediv" class="tablesorter">
</div>
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="http://code.jquery.com/ui/1.10.3/jquery-ui.js"></script>
    <script src="opencpu/opencpuTE.js"></script> 
    <script src="./dist/js/bootstrap.min.js"></script>
    <script src="./dist/jquery.tablesorter.js"></script> 
    <script src="./dist/addons/pager/jquery.tablesorter.pager.js"></script>
    <script src="helper.js"></script>
    <script type="text/javascript" src="./dist/js/iframeResizer.contentWindow.min.js"></script>
    <script>
    var type = "te.heat.map";
function go(){
  country = $("#country").val();
  indicator = $("#indicator").val();      
  rInteractPlot(type, [userN,passW], country, indicator, "")  
  }
$(document).ready(function(){
  starts()
  
  loadInfo(function(){
    bMultipleCountriesDD("#selectionZone1","country",function(){
      bMultipleIndicatorsDD("#selectionZone2","indicator",function(){
        go()
      },['Industrial Production','GDP Annual Growth Rate','Inflation Rate','Unemployment Rate','Retail Sales','GDP','Population','GDP per capita'])
    })
  })
  
  /*
  loadCountries("#selectionZone",function(){})
  loadIndicators("#selectionZone",buildSeveralCountriesSeveralIndicators)
  */
$("#seetable").on("click", function(){  
  rInteractTable(type, [userN,passW], country, indicator, "")
});
      
$("#submitbutton").on("click", function(){
  submits()
  go()
  });
});

</script>
</body></html>